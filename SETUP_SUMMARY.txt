â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                            â•‘
â•‘        âœ… BASE DE DATOS Y AUTENTICACIÃ“N - SETUP COMPLETADO                â•‘
â•‘                                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ ARCHIVOS CREADOS Y CONFIGURADOS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. ğŸ“„ database/setup_auth.sql
   â””â”€ Script SQL que crea todas las tablas necesarias
   â””â”€ Pre-carga 3 usuarios de prueba
   â””â”€ Crea Ã­ndices para mejor rendimiento

2. ğŸ“„ backend/src/index.ts
   â””â”€ Servidor Express completamente configurado
   â””â”€ Rutas de autenticaciÃ³n (/api/auth/login, /api/auth/refresh)
   â””â”€ Rutas protegidas (/api/profile, /api/dashboard)
   â””â”€ Manejo de errores y CORS

3. ğŸ“„ backend/.env.example
   â””â”€ Plantilla de variables de entorno
   â””â”€ Copia a .env y configura con tu contraseÃ±a de PostgreSQL

4. ğŸ“„ backend/src/test-db.ts
   â””â”€ Script para verificar la conexiÃ³n a la base de datos
   â””â”€ Prueba de autenticaciÃ³n con credenciales de prueba
   â””â”€ Comando: npm run test-db

5. ğŸ“– AUTH_SETUP_GUIDE.md
   â””â”€ GuÃ­a completa y detallada (paso a paso)
   â””â”€ Explicaciones detalladas de cada paso
   â””â”€ SoluciÃ³n de problemas comunes

6. ğŸ“– QUICK_AUTH_SETUP.md
   â””â”€ GuÃ­a rÃ¡pida (5 pasos simples)
   â””â”€ Para usuarios con prisa
   â””â”€ Resumen visual y enfocado

7. ğŸ“– WINDOWS_SETUP.md
   â””â”€ GuÃ­a especÃ­fica para Windows 10/11
   â””â”€ Comandos PowerShell listos para copiar y pegar
   â””â”€ SoluciÃ³n de problemas en Windows

8. ğŸ“– DATABASE_CHECKLIST.md
   â””â”€ Checklist visual de implementaciÃ³n
   â””â”€ Matriz de estado de componentes
   â””â”€ VerificaciÃ³n de requisitos

9. ğŸ”§ verify-setup.bat
   â””â”€ Script de verificaciÃ³n para Windows
   â””â”€ Verifica PostgreSQL, Node.js, npm, dependencias

10. ğŸ“„ backend/package.json
    â””â”€ Actualizado con script npm run test-db

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ PASOS PARA EMPEZAR (5 MINUTOS):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1ï¸âƒ£  Instalar PostgreSQL (si no lo tienes)
    ğŸ‘‰ https://www.postgresql.org/download/windows/

2ï¸âƒ£  Crear base de datos
    PowerShell:
    psql -U postgres
    CREATE DATABASE portal_estudiante_unc;
    \q

3ï¸âƒ£  Cargar datos iniciales
    PowerShell:
    psql -U postgres -d portal_estudiante_unc -f database\setup_auth.sql

4ï¸âƒ£  Configurar variables de entorno
    copy backend\.env.example backend\.env
    (Edita el archivo y reemplaza TU_CONTRASEÃ‘A)

5ï¸âƒ£  Instalar y ejecutar
    cd backend
    npm install
    npx prisma generate
    npm run test-db
    npm run dev

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”‘ CREDENCIALES DE PRUEBA YA CARGADAS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Email: admin@zahkiel.com                                â”‚
â”‚ ContraseÃ±a: 123456                                      â”‚
â”‚ Rol: admin                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Email: teacher@zahkiel.com                              â”‚
â”‚ ContraseÃ±a: 123456                                      â”‚
â”‚ Rol: teacher                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Email: student@zahkiel.com                              â”‚
â”‚ ContraseÃ±a: 123456                                      â”‚
â”‚ Rol: student                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… COMPONENTES IMPLEMENTADOS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ”ï¸  AutenticaciÃ³n JWT
    â”œâ”€ Access Token (1 hora)
    â”œâ”€ Refresh Token (7 dÃ­as)
    â””â”€ Middleware de protecciÃ³n

âœ”ï¸  EncriptaciÃ³n de ContraseÃ±as
    â”œâ”€ bcryptjs
    â”œâ”€ Hashing seguro
    â””â”€ ComparaciÃ³n de contraseÃ±as

âœ”ï¸  Base de Datos
    â”œâ”€ PostgreSQL
    â”œâ”€ Prisma ORM
    â”œâ”€ Tabla User (email, passwordHash, role, etc.)
    â”œâ”€ Tabla Student (con relaciÃ³n a User)
    â”œâ”€ Tabla Teacher (con relaciÃ³n a User)
    â””â”€ Todas las tablas necesarias

âœ”ï¸  Servidor Express
    â”œâ”€ CORS configurado
    â”œâ”€ Parser JSON
    â”œâ”€ Rutas de autenticaciÃ³n pÃºblicas
    â”œâ”€ Rutas protegidas
    â””â”€ Manejo de errores

âœ”ï¸  ValidaciÃ³n
    â”œâ”€ Zod schema para login
    â”œâ”€ Email vÃ¡lido requerido
    â”œâ”€ ContraseÃ±a mÃ­nimo 6 caracteres
    â””â”€ VerificaciÃ³n de usuario activo

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ RUTAS DISPONIBLES:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PÃšBLICAS:
  POST   /api/auth/login       Iniciar sesiÃ³n
  POST   /api/auth/refresh     Refrescar token

PROTEGIDAS (Requieren JWT):
  GET    /api/profile          Obtener perfil del usuario
  GET    /api/dashboard        Obtener dashboard segÃºn rol

SALUD:
  GET    /health               Estado del servidor
  GET    /api/health           Estado del API

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š ESTRUCTURA DE TABLAS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

User
â”œâ”€ id (UUID)
â”œâ”€ email (unique)
â”œâ”€ passwordHash
â”œâ”€ role (admin, teacher, student, parent)
â”œâ”€ firstName
â”œâ”€ lastName
â”œâ”€ active
â”œâ”€ createdAt
â””â”€ updatedAt

Student
â”œâ”€ id (FK â†’ User.id)
â”œâ”€ grade
â”œâ”€ section
â”œâ”€ dateOfBirth
â”œâ”€ parentId
â””â”€ profile (JSON)

Teacher
â”œâ”€ id (FK â†’ User.id)
â”œâ”€ specialties (array)
â””â”€ bio

Course
â”œâ”€ id (UUID)
â”œâ”€ name
â”œâ”€ code (unique)
â”œâ”€ grade
â”œâ”€ year
â”œâ”€ teacherId (FK â†’ Teacher.id)
â””â”€ createdAt

Subject
â”œâ”€ id (UUID)
â”œâ”€ name
â”œâ”€ code (unique)
â”œâ”€ description
â”œâ”€ courseId (FK â†’ Course.id)
â””â”€ createdAt

Enrollment
â”œâ”€ studentId (FK â†’ Student.id)
â”œâ”€ courseId (FK â†’ Course.id)
â”œâ”€ enrolledAt
â””â”€ status

Evaluation
â”œâ”€ id (UUID)
â”œâ”€ subjectId (FK â†’ Subject.id)
â”œâ”€ title
â”œâ”€ description
â”œâ”€ dueDate
â”œâ”€ maxScore
â”œâ”€ weight
â”œâ”€ createdBy
â””â”€ createdAt

EvaluationResult
â”œâ”€ id (UUID)
â”œâ”€ evaluationId (FK â†’ Evaluation.id)
â”œâ”€ studentId (FK â†’ Student.id)
â”œâ”€ score
â”œâ”€ feedback
â”œâ”€ submittedAt
â”œâ”€ gradedAt
â””â”€ gradedBy

Message
â”œâ”€ id (UUID)
â”œâ”€ senderId (FK â†’ User.id)
â”œâ”€ recipientId (FK â†’ User.id)
â”œâ”€ subject
â”œâ”€ content
â”œâ”€ readAt
â””â”€ createdAt

PersonalizedContent
â”œâ”€ id (UUID)
â”œâ”€ studentId (FK â†’ Student.id)
â”œâ”€ teacherId (FK â†’ Teacher.id)
â”œâ”€ promptData (JSON)
â”œâ”€ content (JSON)
â”œâ”€ status
â”œâ”€ reviewStatus
â”œâ”€ reviewFeedback
â”œâ”€ createdAt
â”œâ”€ completedAt
â””â”€ reviewedAt

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š DOCUMENTACIÃ“N DISPONIBLE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Para usuarios con prisa:
  ğŸ‘‰ QUICK_AUTH_SETUP.md (5 pasos, 5 minutos)

Para usuarios de Windows:
  ğŸ‘‰ WINDOWS_SETUP.md (Comandos PowerShell listos para copiar/pegar)

Para documentaciÃ³n completa:
  ğŸ‘‰ AUTH_SETUP_GUIDE.md (GuÃ­a paso a paso detallada)

Para verificar el setup:
  ğŸ‘‰ DATABASE_CHECKLIST.md (Checklist visual de implementaciÃ³n)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš¡ QUICK TEST:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Una vez que tengas todo configurado, verifica que funciona:

PowerShell:
  cd backend
  npm run test-db
  npm run dev

Luego en otra ventana de PowerShell:
  $body = @{ email = "admin@zahkiel.com"; password = "123456" } | ConvertTo-Json
  Invoke-WebRequest -Uri "http://localhost:5000/api/auth/login" `
      -Method POST `
      -Headers @{"Content-Type"="application/json"} `
      -Body $body

DeberÃ­as ver el token JWT en la respuesta âœ…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‰ Â¡TODO ESTÃ LISTO!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Solo falta que:

1. Instales PostgreSQL (si no lo tienes)
2. Ejecutes los 5 pasos de arriba
3. Pruebes el login
4. Conectes el frontend

Â¡Ahora puedes iniciar sesiÃ³n sin problemas!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ãšltima actualizaciÃ³n: Febrero 2026
Estado: âœ… Listo para usar
VersiÃ³n: 1.0
